:root {
  --bg: #0b0c10;
  --surface: #111218;
  --surface-2: #171923;
  --text: #e6e8ef;
  --muted: #aab0c0;
  --brand: #4ba3ff;
  --brand-600: #2f7fe0;
  --accent: #12d6df;
  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,0.25);
  --maxw: 1100px;
  --header-h: 64px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, Noto Sans, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: linear-gradient(180deg, #090a0f, #0e1018 35%, #0b0c10 100%);
}

.container { width: 100%; max-width: var(--maxw); margin: 0 auto; padding: 0 20px; }

/* Header / Nav */
.site-header { position: sticky; top: 0; z-index: 50; background: rgba(9,10,15,0.7); backdrop-filter: blur(10px); border-bottom: 1px solid #1b1e29; transition: transform .25s ease; will-change: transform; }
.header-inner { height: var(--header-h); display: flex; align-items: center; justify-content: space-between; }
.brand { color: var(--text); text-decoration: none; font-weight: 700; letter-spacing: 0.3px; }
.brand:hover { color: var(--accent); }

/* Header oculto al hacer scroll hacia abajo */
.site-header.hide { transform: translateY(calc(-1 * var(--header-h) - 4px)); }

.site-nav ul { list-style: none; display: flex; gap: 18px; margin: 0; padding: 0; }
.site-nav a { color: var(--text); text-decoration: none; padding: 10px 12px; border-radius: 10px; transition: background .2s, color .2s; }
.site-nav a:hover, .site-nav a:focus { background: var(--surface-2); color: #fff; outline: none; }

.nav-toggle { display: none; background: none; border: 0; cursor: pointer; padding: 8px; border-radius: 10px; }
.nav-toggle:focus-visible { outline: 2px solid var(--brand); }
.nav-toggle .bar { display: block; width: 24px; height: 2px; background: var(--text); margin: 5px 0; transition: transform .2s, opacity .2s; }

/* Hero */
.hero { padding: 72px 0 40px; background: radial-gradient(1200px 400px at 20% -10%, rgba(75,163,255,0.15), transparent), radial-gradient(800px 300px at 80% -20%, rgba(18,214,223,0.15), transparent); }
.hero-inner { text-align: center; }
.hero h1 { margin: 0 0 10px; font-size: clamp(28px, 4vw + 10px, 44px); letter-spacing: -0.5px; }
.hero p { margin: 0 auto 20px; color: var(--muted); max-width: 650px; }
.cta { display: flex; gap: 12px; justify-content: center; }
.btn { display: inline-block; padding: 10px 16px; border-radius: 12px; text-decoration: none; font-weight: 600; border: 1px solid transparent; }
.btn.primary { background: linear-gradient(90deg, var(--brand), var(--accent)); color: #06121a; }
.btn.ghost { background: #2a3147; border-color: #44507a; color: #ffffff; }
.btn.secondary { background: #314a2f; border-color: #4f7a4a; color: #ffffff; }
.btn.danger { background: #3a1f23; border-color: #7a3a42; color: #ffd7d7; }
.btn:hover { filter: brightness(1.05); }

/* Sections */
.section { padding: 56px 0; scroll-margin-top: calc(var(--header-h) + 10px); }
.section.alt { background: linear-gradient(180deg, rgba(23,25,35,0.6), rgba(23,25,35,0.2)); border-top: 1px solid #1b1e29; border-bottom: 1px solid #1b1e29; }
.section h2 { margin: 0 0 12px; font-size: 28px; }
.section p { color: var(--muted); }

/* Cards / Grids */
.grid { display: grid; gap: 18px; }
.products { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.features { grid-template-columns: repeat(3, minmax(0, 1fr)); }

.card { background: var(--surface); border: 1px solid #1b1e29; border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); }
.card img { width: 100%; height: 180px; object-fit: cover; display: block; }
.card-body { padding: 14px; }
.card h3 { margin: 4px 0 6px; font-size: 18px; }

.feature { background: var(--surface); border: 1px solid #1b1e29; border-radius: var(--radius); padding: 16px; }

/* FAQ */
.faq details { background: var(--surface); border: 1px solid #1b1e29; border-radius: 12px; padding: 12px 14px; margin: 10px 0; }
.faq summary { cursor: pointer; list-style: none; font-weight: 600; }
.faq summary::-webkit-details-marker { display: none; }
.faq p { margin: 6px 0 0; color: var(--muted); }

/* Footer */
.site-footer { padding: 30px 0; border-top: 1px solid #1b1e29; background: rgba(9,10,15,0.6); }
.footer-inner { display: flex; justify-content: space-between; gap: 20px; align-items: center; }
.site-footer p { color: var(--muted); margin: 4px 0; }

/* Responsive */
@media (max-width: 900px) {
  .products, .features { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 680px) {
  .nav-toggle { display: block; }
  .site-nav { position: absolute; top: var(--header-h); right: 10px; left: 10px; background: var(--surface); border: 1px solid #1b1e29; border-radius: 14px; padding: 10px; display: none; box-shadow: var(--shadow); }
  .site-nav.open { display: block; }
  .site-nav ul { flex-direction: column; }
  .site-nav a { padding: 12px; }

  .products, .features { grid-template-columns: 1fr; }
  .footer-inner { flex-direction: column; align-items: flex-start; }
}

/* Clientes: layout */
.clients-forms { grid-template-columns: repeat(2, minmax(0, 1fr)); margin-top: 18px; }
.cliente-layout { grid-template-columns: 1fr; margin-top: 18px; }

@media (max-width: 1000px) {
  .cliente-layout { grid-template-columns: 1fr; }
}
@media (max-width: 900px) {
  .clients-forms { grid-template-columns: 1fr; }
}

/* Forms */
.form { display: block; }
.row.row-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
.error-text { color: #c62828; font-weight: 600; }
.row { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; margin-bottom: 10px; }
.row .full { grid-column: 1 / -1; }
.field { display: flex; flex-direction: column; gap: 6px; }
.field label, .checkbox { font-size: 14px; color: var(--muted); }
.field input, .field select, .field textarea {
  background: #0f1118; color: var(--text); border: 1px solid #1b1e29; border-radius: 10px; padding: 10px 12px; outline: none;
}
.field input:focus, .field select:focus, .field textarea:focus { border-color: var(--brand); box-shadow: 0 0 0 3px rgba(75,163,255,0.15); }
.checkbox input { margin-right: 8px; }
.btn.block { width: 100%; }
.form fieldset { border: 1px solid #1b1e29; border-radius: 12px; padding: 10px; margin-bottom: 12px; }
.form legend { color: var(--muted); padding: 0 6px; }
.form-msg { margin-top: 8px; font-size: 14px; color: var(--muted); }
.muted { color: var(--muted); }

/* Graduación estilo foto */
.graduacion { display: grid; gap: 6px; }
.grad-row { display: flex; align-items: center; gap: 8px; font-size: 15px; }
.grad-row .eye { font-weight: 600; margin-right: 6px; }
.grad-row .lbl { color: var(--muted); }
.line-input { background: transparent; border: 0; border-bottom: 2px solid #3a4159; color: var(--text); padding: 4px 6px; min-width: 90px; outline: none; }
.line-input:focus { border-bottom-color: var(--brand); box-shadow: none; }
.sep { margin: 0 8px; color: var(--muted); }

/* Search results */
.search-results { margin-top: 12px; display: grid; gap: 10px; }
.search-item { display: flex; justify-content: space-between; align-items: center; background: var(--surface); border: 1px solid #1b1e29; border-radius: 10px; padding: 10px 12px; }
.search-item .meta { color: var(--muted); font-size: 14px; }

/* Anteojos lista */
.anteojos-lista { display: grid; gap: 12px; }
.anteojo-item { background: var(--surface); border: 1px solid #1b1e29; border-radius: 12px; padding: 12px; }
.anteojo-item h4 { margin: 0 0 6px; font-size: 16px; }
.anteojo-meta { color: var(--muted); font-size: 14px; margin-bottom: 6px; }
.anteojo-actions { display: flex; gap: 8px; }

/* Title row (páginas como Trabajos) */
.title-row { display: flex; align-items: center; justify-content: space-between; gap: 12px; flex-wrap: wrap; margin-bottom: 12px; }
.title-row h2 { margin: 0; }
.title-row .field { flex-direction: row; align-items: center; gap: 8px; margin: 0; }
.title-row .field label { margin: 0; }

/* Trabajos: grilla por laboratorio */
.labs-grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
.lab-card h3 { margin: 4px 0 10px; font-size: 18px; }
.jobs-list { display: grid; gap: 10px; }
.lab-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 8px; }
.job-row { display: flex; align-items: center; gap: 8px; cursor: pointer; }
.job-row input { margin-right: 4px; }
.job-check { transform: scale(1.25); transform-origin: center; }

/* Floating action button */
.fab-wrap { position: fixed; right: 20px; bottom: 20px; z-index: 120; display: flex; gap: 8px; align-items: center; }
.fab { padding: 12px 16px; border-radius: 22px; box-shadow: var(--shadow); }
.fab[disabled] { opacity: 0.6; cursor: not-allowed; filter: none; }
.fab-caret { padding: 12px 12px; border-radius: 50%; box-shadow: var(--shadow); }
.fab-menu { position: fixed; right: 20px; bottom: 70px; background: var(--surface); border: 1px solid #1b1e29; border-radius: 12px; box-shadow: var(--shadow); min-width: 180px; overflow: hidden; }
.fab-menu button { width: 100%; display: block; background: transparent; color: var(--text); border: 0; text-align: left; padding: 10px 12px; cursor: pointer; }
.fab-menu button:hover { background: var(--surface-2); }

/* Terminados: formato de tarjeta */
.done-item { border: 1px solid #1b1e29; background: var(--surface); border-radius: 12px; padding: 12px; box-shadow: var(--shadow); cursor: pointer; }
.done-item .done-top { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.done-item .done-title { font-size: 18px; font-weight: 700; letter-spacing: 0.2px; }
.done-item .done-title .meta { font-weight: 500; color: var(--text); opacity: 0.9; margin-left: 8px; }
.done-item .done-row { color: var(--muted); margin-top: 6px; }
.done-item.selected { outline: 2px solid var(--brand); }
